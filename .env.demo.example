# ============================================================
# Keerja Backend - DEMO Environment Configuration
# ============================================================
#
# PURPOSE:
#   Environment variables for DEMO (client presentation) deployment
#   Used by: docker-compose.vps.yml (api-demo service)
#   URL: http://demo-api.145.79.8.227.nip.io
#
# CHARACTERISTICS:
#   - Production-like settings
#   - Stable code (deployed from git tags)
#   - Used for client demonstrations
#   - Less verbose logging
#
# USAGE:
#   1. Copy this file: cp .env.demo.example .env.demo
#   2. Update values with actual credentials
#   3. NEVER commit .env.demo to git
# ============================================================

# ==========================================
# Application Configuration
# ==========================================
APP_NAME=Keerja Backend
APP_ENV=production
APP_PORT=8080
APP_VERSION=demo

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# ==========================================
# Database Configuration (DEMO)
# PostgreSQL connection for keerja_demo database
# Uses Redis DB 1 for isolation from STAGING
# ==========================================
DB_HOST=postgres
DB_PORT=5432
DB_USER=bekerja
DB_PASSWORD=CHANGE_THIS_DEMO_DB_PASSWORD
DB_NAME=keerja_demo
DB_SSLMODE=disable

# Full DATABASE_URL
DATABASE_URL=postgresql://bekerja:CHANGE_THIS_DEMO_DB_PASSWORD@postgres:5432/keerja_demo?sslmode=disable

# PostgreSQL Admin (shared with staging)
POSTGRES_PASSWORD=CHANGE_THIS_POSTGRES_ADMIN_PASSWORD

# Migrator role
DB_MIGRATOR_USER=kustan
DB_MIGRATOR_PASSWORD=CHANGE_THIS_MIGRATOR_PASSWORD

# App role
DB_APP_USER=bekerja
DB_APP_PASSWORD=CHANGE_THIS_DEMO_DB_PASSWORD

# Demo-specific DB credentials (used by docker-compose.vps.yml)
DEMO_DB_USER=bekerja
DEMO_DB_PASSWORD=CHANGE_THIS_DEMO_DB_PASSWORD

# ==========================================
# Redis Configuration
# Shared Redis with DEMO using DB 1 (isolated from staging)
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_DB=1
REDIS_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@redis:6379/1

# ==========================================
# JWT Configuration
# Use DIFFERENT secret from staging for security
# ==========================================
JWT_SECRET=CHANGE_THIS_DEMO_JWT_SECRET_MINIMUM_32_CHARS_LONG_DIFFERENT_FROM_STAGING
JWT_EXPIRE_HOURS=24
JWT_REFRESH_EXPIRE_DAYS=7

# ==========================================
# CORS Configuration
# More restrictive for demo environment
# ==========================================
ALLOWED_ORIGINS=http://demo.keerja.com,http://demo-api.145.79.8.227.nip.io,http://localhost:3000

# ==========================================
# Frontend URLs (DEMO)
# ==========================================
FRONTEND_URL=http://demo.keerja.com
VERIFY_EMAIL_URL=http://demo.keerja.com/verify-email
RESET_PASSWORD_URL=http://demo.keerja.com/reset-password
DASHBOARD_URL=http://demo.keerja.com/dashboard

# ==========================================
# Mail Configuration (Production SMTP)
# ==========================================
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_FROM=noreply@keerja.com
MAIL_FROM_NAME=Keerja

# ==========================================
# Google OAuth Configuration
# Use production OAuth credentials for demo
# ==========================================
GOOGLE_CLIENT_ID=your-production-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-production-client-secret
GOOGLE_REDIRECT_URI=http://demo-api.145.79.8.227.nip.io/api/v1/auth/oauth/google/callback
GOOGLE_CREDENTIALS_FILE=

# Mobile OAuth redirect URIs
ALLOWED_MOBILE_REDIRECT_URIS=keerja://oauth-callback,com.keerja.app://oauth-callback

# ==========================================
# Storage Configuration
# ==========================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=CHANGE_THIS_MINIO_SECRET
MINIO_USE_SSL=false
MINIO_BUCKET=keerja-demo

# MinIO Root Credentials
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_THIS_MINIO_SECRET

# File upload limits
MAX_UPLOAD_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ==========================================
# Firebase Cloud Messaging (FCM)
# ==========================================
FCM_ENABLED=true
FCM_PROJECT_ID=your-firebase-project-id
FCM_CREDENTIALS_FILE=./config/firebase-service-account.json
FCM_TIMEOUT=30s
FCM_BATCH_SIZE=500
FCM_MAX_RETRIES=3
PUSH_DEFAULT_SOUND=default
PUSH_DEFAULT_TTL=86400

# ==========================================
# Logging Configuration
# Less verbose for demo (info level)
# ==========================================
LOG_LEVEL=info
LOG_FORMAT=json

# ==========================================
# Timezone
# ==========================================
TZ=Asia/Jakarta

# ==========================================
# Support Configuration
# ==========================================
SUPPORT_EMAIL=support@keerja.com

# ==========================================
# API Documentation (Bump.sh)
# ==========================================
API_DOCS_URL=https://bump.sh/doc/keerja-api-demo
API_BASE_URL=http://demo-api.145.79.8.227.nip.io

# ==========================================
# Rate Limiting (stricter for demo)
# ==========================================
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_DURATION=1m

# ==========================================
# Health Check
# ==========================================
HEALTH_CHECK_PATH=/health/live
READY_CHECK_PATH=/health/ready
